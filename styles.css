/* ===== Base / Reset ===== */
* { box-sizing: border-box; }
html { scroll-behavior: smooth; }
html, body { width: 100%; overflow-x: clip; } /* kill tiny horizontal scroll */
:root{
  --brick: #6e1b1b;
  --brick-700: #591616;
  --sand: #fbf6eb;
  --charcoal: #232323;
  --muted: #6b6b6b;
  --ring: 0 0 0 3px rgba(110,27,27,.25);
  --radius: 16px;
  --shadow: 0 6px 18px rgba(0,0,0,.07);
  --header-h: 72px;
}
body{
  margin:0;
  font: 16px/1.6 "Inter",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  color: var(--charcoal);
  background: #fff;
  -webkit-tap-highlight-color: transparent;
}
img{ max-width:100%; height:auto; display:block; }

/* Layout helpers */
.wrapper{ width:min(1100px,92vw); margin-inline:auto; max-width:100%; }
.section{ padding-block: clamp(2.5rem, 5vw, 5rem); }
.section-title{ font-size: clamp(1.5rem, 2.7vw, 2.25rem); margin: 0 0 1rem; }
.small{ font-size:.875rem; color:var(--muted); }

/* Accessibility helpers */
.skip-link{
  position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden;
}
.skip-link:focus{
  left:1rem; top:1rem; width:auto; height:auto; padding:.5rem .75rem; background:#fff;
  border:2px solid var(--brick); border-radius:8px; z-index:1000;
}
.sr-only{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); border:0; }

/* ===== Header / Nav ===== */
.site-header{
  position: sticky; top:0; z-index:100; background:#fff; border-bottom:1px solid #eee;
}
.site-header.scrolled{ box-shadow: 0 6px 20px rgba(0,0,0,.06); }
.nav-wrapper{
  display:grid; grid-template-columns:auto 1fr auto; align-items:center; gap:1rem; min-height: var(--header-h);
}
.brand{ display:inline-flex; align-items:center; gap:.6rem; color:var(--charcoal); text-decoration:none; font-weight:800; }
.brand-icon{ width:28px; height:28px; fill:var(--brick); }
.brand-text{ letter-spacing:.2px; white-space:nowrap; }

/* Desktop nav */
.primary-nav ul{
  display:flex; align-items:center; gap: clamp(.75rem, 2vw, 2rem);
  margin:0; padding:0; list-style:none;
}
.primary-nav a{ color:var(--charcoal); text-decoration:none; font-weight:600; }
.primary-nav a:hover, .primary-nav a.is-active{ color:var(--brick); }

/* Burger button */
.nav-toggle{
  appearance:none; background:transparent; border:0; width:42px; height:42px;
  display:grid; place-items:center; cursor:pointer;
}
.nav-toggle span{ width:24px; height:2px; background:var(--charcoal); display:block; border-radius:2px; transition: transform .3s, opacity .3s; }
.nav-toggle span:nth-child(2){ transform-origin:center; }

/* ===== Mobile: COMPACT DROPDOWN (not full-screen) ===== */
@media (max-width: 820px){
  .primary-nav{
    position: absolute; left:0; right:0; top: var(--header-h);
    background:#fff;
    border-top:1px solid #eee;
    box-shadow: 0 12px 24px rgba(0,0,0,.05);
    overflow: hidden;                      /* hide while animating height */
    max-height: 0;                         /* collapsed */
    opacity: 0; visibility: hidden; pointer-events: none;
    transition: max-height .3s ease, opacity .2s ease, visibility .2s linear;
    z-index: 999;
  }
  .primary-nav ul{ flex-direction:column; gap:.25rem; padding:.5rem 1rem 1rem; }
  .primary-nav a{ padding:.85rem 1rem; border-radius:10px; }

  .nav-toggle{ display:grid; justify-self:end; }
  /* Burger -> X */
  body.nav-open .nav-toggle span:nth-child(1){ transform: translateY(6px) rotate(45deg); }
  body.nav-open .nav-toggle span:nth-child(2){ opacity: 0; }
  body.nav-open .nav-toggle span:nth-child(3){ transform: translateY(-6px) rotate(-45deg); }
}
/* Open state on mobile */
@media (max-width: 820px){
  body.nav-open .primary-nav{
    max-height: calc(100svh - var(--header-h));  /* grows only as needed */
    opacity:1; visibility:visible; pointer-events:auto;
  }
  body.nav-open{ overflow:hidden; } /* prevent page scroll when menu open */
}

/* Hide burger on desktop */
@media (min-width: 821px){ .nav-toggle{ display:none; } }

/* ===== Hero ===== */
.hero{ position:relative; padding:0; isolation:isolate; }
.hero picture{ display:block; height: clamp(48vh, 62vh, 78vh); }
.hero img{ width:100%; height:100%; object-fit:cover; }
.hero-overlay{ position:absolute; inset:0; background: linear-gradient(180deg, rgba(0,0,0,.45), rgba(0,0,0,.25) 40%, rgba(0,0,0,.35)); z-index:-1; }
.hero-content{ position:absolute; inset:0; display:grid; place-content:center; text-align:center; color:#fff; padding-inline:1rem; }
.hero h1{ font-size: clamp(2rem, 5vw, 3.25rem); margin:0 0 .5rem; }
.hero p{ max-width:52ch; margin:0 auto 1.25rem; font-size: clamp(1rem, 2.2vw, 1.15rem); }
.hero-ctas{ display:flex; gap:.75rem; justify-content:center; flex-wrap:wrap; }

/* ===== Buttons ===== */
.btn{
  --_bg:#eaeaea; --_fg:var(--charcoal);
  display:inline-flex; align-items:center; justify-content:center; gap:.5rem;
  padding:.8rem 1.1rem; border-radius:999px; border:2px solid transparent;
  text-decoration:none; font-weight:700; letter-spacing:.2px;
  transition: background .2s, color .2s, border-color .2s, transform .02s;
}
.btn:active{ transform: translateY(1px); }
.btn-primary{ --_bg:var(--brick); --_fg:#fff; background:var(--_bg); color:var(--_fg); }
.btn-primary:hover{ background:var(--brick-700); }
.btn-ghost{ background: rgba(255,255,255,.1); color:#fff; border-color: rgba(255,255,255,.35); }
.btn-ghost:hover{ background: rgba(255,255,255,.18); }

/* ===== About ===== */
.about-grid{ display:grid; gap: clamp(1rem, 3vw, 2rem); align-items:center; }
.about-media{ overflow:hidden; border-radius:var(--radius); box-shadow:var(--shadow); }
.about-copy h2{ margin-top:0; }
.bullets{ padding-left:1.1em; }
.bullets li{ margin:.4rem 0; }
@media (min-width: 860px){ .about-grid{ grid-template-columns: 1.15fr 1fr; } }

/* ===== Services ===== */
.services{ background:var(--sand); }
.cards{ display:grid; gap:1rem; grid-template-columns: repeat(auto-fit, minmax(min(100%, 260px), 1fr)); }
.card{ background:#fff; border-radius:var(--radius); padding:1.15rem 1.1rem; box-shadow:var(--shadow); border:1px solid #eee; }
.card h3{ margin:0 0 .35rem; font-size:1.15rem; color:var(--brick); }
.card p{ margin:0; color:var(--charcoal); }

/* ===== Gallery / Carousel ===== */
.gallery .small{ margin-top:-.5rem; margin-bottom:1rem; }
.carousel{ position:relative; overflow:hidden; }        /* ensure nothing bleeds out */
.carousel-viewport{
  display:flex; overflow-x:auto; scroll-snap-type:x mandatory; scroll-behavior:smooth;
  -webkit-overflow-scrolling: touch;
  border-radius: var(--radius); box-shadow: var(--shadow); background:#000;
  aspect-ratio: 4/3; width: 100%; max-width: 100%;
  overscroll-behavior-x: contain;                      /* keep horizontal scroll local */
  contain: content;                                    /* avoid layout spillover */
}
.carousel-viewport::-webkit-scrollbar{ display:none; }
.slide{ flex: 0 0 100%; scroll-snap-align: center; position: relative; }
.slide img{ width:100%; height:100%; object-fit: cover; }
.slide figcaption{
  position:absolute; left:0; right:0; bottom:0;
  padding:.5rem .75rem; font-size:.95rem; color:#fff;
  background: linear-gradient(180deg, rgba(0,0,0,0), rgba(0,0,0,.55));
}
.carousel-btn{
  position:absolute; top:50%;
  width:44px; height:44px; border-radius:999px;
  border:none; background: rgba(255,255,255,.85); color:#111;
  display:grid; place-items:center; font-size:24px; line-height:1;
  cursor:pointer; box-shadow: var(--shadow);
  transform: translateY(-50%);                         /* classic transform (no new translate:) */
  -webkit-user-select:none; user-select:none;
}
.carousel-btn:hover{ background:#fff; }
.carousel-btn.prev{ left:.5rem; }
.carousel-btn.next{ right:.5rem; }
@media (min-width: 900px){ .carousel-btn{ width:48px; height:48px; font-size:26px; } }

/* ===== Testimonials ===== */
.testimonials .quote{ border-left:4px solid var(--brick); padding:.75rem 1rem; background:#fff; border-radius:8px; box-shadow:var(--shadow); }
.testimonials .cite{ display:block; margin-top:.4rem; color:var(--muted); font-size:.95rem; }

/* ===== Contact ===== */
.contact-grid{ display:grid; gap: clamp(1rem, 3vw, 2rem); align-items:start; }
@media (min-width:900px){ .contact-grid{ grid-template-columns: 1fr 1.2fr; } }

form{ background:var(--sand); padding:1rem; border-radius:var(--radius); box-shadow:var(--shadow); border:1px solid #eee; }
.form-grid{ display:grid; gap:.75rem; grid-template-columns:1fr; }
.form-grid input, .form-grid textarea{
  width:100%; padding:.8rem .9rem; border:1px solid #d8d8d8; border-radius:12px; font:inherit; color:var(--charcoal); background:#fff;
}
.form-grid input:focus, .form-grid textarea:focus{ outline:none; box-shadow: var(--ring); border-color: var(--brick); }
.form-note{ margin-top:.6rem; min-height:1.25rem; }

/* ===== Footer ===== */
.site-footer{ border-top:1px solid #eee; padding-block:1.25rem; background:#fff; }
.footer-grid{ display:grid; grid-template-columns:1fr; gap:.75rem; align-items:center; }
.footer-links{ display:flex; gap:1rem; flex-wrap:wrap; }
.footer-links a{ color:var(--charcoal); text-decoration:none; }
.footer-links a:hover{ color:var(--brick); }
@media (min-width:800px){ .footer-grid{ grid-template-columns: 1fr auto; } }

/* ===== Anchor offset for sticky header ===== */
#home, #about, #services, #gallery, #testimonials, #contact{
  scroll-margin-top: calc(var(--header-h) + 12px);
}
